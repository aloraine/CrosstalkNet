<md-content>
    <div class="md-padding">
        <h2 class="md-subhead">Get Communities</h2>
        <md-button class="md-raised md-primary" ng-click="vm.getCommunities()">Get Communities</md-button>
        <md-input-container class="select">
            <label>Select Community File</label>
            <md-select class="file-select" ng-model="vm.communityFile">
                <md-option ng-repeat="file in vm.fileList" value="{{file}}" ng-selected="0">
                    <span ng-if="file.type == 'personal'" ng-click="vm.deleteConfirm($event, file)" class="highlight right-margin red-text">X</span> {{file.name}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <md-divider></md-divider>
    <div ng-if="vm.sharedData.permission > 0" class="md-padding">
        <div class="md-subhead bottom-margin">Optional File Upload</div>
        <form>
            <div class="bottom-margin">
                <md-button class="md-primary md-raised" type="file" ngf-select ng-model="vm.communityUpload" ngf-max-height="1000" ngf-max-size="20MB" accept=".Rdata,.RData" ngf-pattern=".Rdata,.RData">Choose Community File</md-button>
                <div>File: {{vm.communityUpload.name ? vm.communityUpload.name : "No file selected"}}</div>
            </div>
            <md-button ng-click="vm.uploadFile()" class="md-primary md-raised top-margin-10">Upload File</md-button>
        </form>
    </div>
</md-content>
